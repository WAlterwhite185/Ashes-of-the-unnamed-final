<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ashes of the Unnamed â€” V4 (Local Modules)</title>
<style>
  body{margin:0;background:#0a0a0a;overflow:hidden;color:#eee;font-family:sans-serif}
  canvas{display:block;width:100%;height:100%;image-rendering:pixelated}
  #hud{position:absolute;inset:0;pointer-events:none}
  .bar{position:absolute;left:16px;top:16px;right:16px;height:14px;background:rgba(12,12,16,.85);border:1px solid #2e2e36}
  .bar + .bar{top:36px} .bar + .bar + .bar{top:56px}
  .bar span{display:block;height:100%;background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(0,0,0,.18));transition:width .14s}
  #hp span{background-color:#b51f2a} #st span{background-color:#6ea0c9} #mp span{background-color:#79c06d}
  #ret{position:absolute;left:50%;top:50%;width:22px;height:22px;transform:translate(-50%,-50%);border:1px dashed rgba(255,255,255,.35)}
</style>
</head>
<body>
<canvas id="game"></canvas>
<div id="hud">
  <div class="bar" id="hp"><span style="width:100%"></span></div>
  <div class="bar" id="st"><span style="width:100%"></span></div>
  <div class="bar" id="mp"><span style="width:100%"></span></div>
  <div id="ret"></div>
</div>

<script type="module">
  import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.160/build/three.module.js";
  import { PointerLockControls } from "./libs/PointerLockControls.js";

  const canvas = document.getElementById('game');
  const renderer = new THREE.WebGLRenderer({canvas, antialias:false});
  renderer.setSize(window.innerWidth, window.innerHeight);
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(90, window.innerWidth/window.innerHeight, 0.1, 500);
  camera.position.set(0,1.6,4);

  const controls = new PointerLockControls(camera, document.body);
  document.body.addEventListener('click', () => controls.lock());

  scene.add(new THREE.AmbientLight(0x656565));
  const light = new THREE.PointLight(0xff4a22, 2, 18); light.position.set(0,3,0); scene.add(light);

  const geo = new THREE.BoxGeometry(1,1,1);
  const mat = new THREE.MeshLambertMaterial({color:0x8844ff});
  const cube = new THREE.Mesh(geo, mat); scene.add(cube);

  function animate(){
    requestAnimationFrame(animate);
    cube.rotation.x += 0.01; cube.rotation.y += 0.01;
    renderer.render(scene, camera);
  }
  animate();
</script>
</body>
</html>
